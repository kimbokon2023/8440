<?php

// 장비 점검 리스트와 관련 데이터를 불러오는 코드
include includePath("qc/load_DB.php");

$terms = ['주간', '1개월', '2개월', '6개월'];
$question_headers = ['장비 이름 (주기)', '점검 문항'];

// 배열을 통해 13개의 장비 문항을 반복적으로 출력합니다.
echo '<div class="container mt-5">';
echo '<table class="table table-hover">';
echo '<thead class="table-dark">';
echo '<tr>';
foreach ($question_headers as $header) {
    echo "<th class='text-center'>{$header}</th>";
}
echo '</tr>';
echo '</thead>';
echo '<tbody>';

// 장비 리스트를 순회하며, 각 장비의 점검 주기에 따른 문항을 테이블 행으로 출력합니다.
for ($i = 0; $i < count($mcno_arr); $i++) {
    $item = $mcno_arr[$i];
    $itemstr = $mcname_arr[$i];

    foreach ($terms as $term) {
        $question = []; // 각 장비별 문항을 저장할 배열
        
        // 조건에 따라 장비와 주기에 맞는 문항 설정
        if ($item == 'laser01' && $term == '주간') {
            $question = [
                "(칠러) ☞ 물통내부 냉각수 양은 적정선까지 채워져 있는가? ",
                "(칠러) ☞ 냉각수는 오염되어 있는지 확인했는가?",
                "(칠러) ☞ 에어필터를 분리해 먼지를 청소했는가? ",
                "(XY축 자바라) ☞ XY축 자바라부를 청소했는가? ",
                "(재받이) ☞ 재받이부는 청소되어 있는가? ",
                "(헤드부) ☞ 헤드부와 노출부 분진은 닦았고, 노즐팁은 깨끗한가? ",
                "(집진기) ☞ 집진부 재받이는 청소되어 있는가? "
            ];
        } elseif ($item == 'laser01' && $term == '1개월') {
            $question = [
                "(집진기) ☞ 집진부 필터의 오염상태는 확인했는가? ",
                "(칠러) ☞ 내부 외부 누수는 없는지 확인 했는가?",
                "(칠러) ☞ 배출 라디에이터는 먼지청소를 했는가?",
                "(테이블체인저) ☞ 체인부에 구리스를 발랐는가? "
            ];
        } elseif ($item == 'laser01' && $term == '2개월') {
            $question = [
                "(XYZ) ☞ (8시간/일 가동시 2개월에 1회) XYZ축에 구리스 주입했는가? ",
                "(XYZ) ☞ XY축 자바라내 랙기어에 구리스를 발랐는가? ",
                "(칠러) ☞ 물필터 오염상태를 확인하고 청소했는가? ",
                "(컴퓨터) ☞ 가공조건, 중요자료를 안전한 컴퓨터에 복사했는가? "
            ];
        } elseif ($item == 'laser01' && $term == '6개월') {
            $question = [
                "(작업테이블) ☞ 그리드(살대) 청소를 했는가? ",
                "(칠러) ☞ 증류수 교체는 했는가? "
            ];
        } elseif ($item == 'vcut01' && $term == '주간') {
            $question = [
                "(바이트) ☞ 바이트날 마모상태는 양호한가? ",
                "(테이블) ☞ 작업테이블의 오염 및 파손은 없는가? ",
                "(청결) ☞ 장비주변의 청결상태는 양호한가? ",
                "(XY이동장치) ☞ 움직이는 부위의 구리스상태는 양호한가? ",
                "(조작판) ☞ 조작등은 정상작동하는가? ",
                "(에어공급) ☞ 콤푸레샤로부터 에어공급은 잘 되는가? "
            ];
        } elseif ($item == 'vcut01' && $term == '1개월') {
            $question = [
                "(바이트) ☞ 바이트날 재고는 적정량을 보유하고 있는가? ",
                "(에어공급) ☞ 콤푸레샤로부터 에어공급장치의 결함은 없는가? ",
                "(작업페달) ☞ 장비 하단의 작업 패달작동은 양호한가? "
            ];
        } elseif ($item == 'vcut01' && $term == '2개월') {
            $question = [
                "(에어공급) ☞ 에어압력장치는 양호한가? ",
                "(조작램프) ☞ 조작램프는 정상작동하는가? ",
                "(프로그램) ☞ 자료 저장 읽기 등 프로그램의 작동은 양호한가? "
            ];
        } elseif ($item == 'vcut01' && $term == '6개월') {
            $question = [
                "(구리스주입구) ☞ 장치의 마찰부위의 구리스 주입구 상태는 양호한가? ",
                "(전기장치) ☞ 전원공급장치의 전선상태는 양호한가? "
            ];
        } elseif ($item == 'bending01' && $term == '주간') {
            $question = [
                "(절곡날) ☞ 절곡날 마모상태는 양호한가? ",
                "(청결) ☞ 장비주변의 청결상태는 양호한가? ",
                "(XY이동장치) ☞ 움직이는 부위의 구리스상태는 양호한가? ",
                "(조작판) ☞ 조작등은 정상작동하는가? ",
                "(부속자재 - 절곡펀치) ☞ 마모상태 확인, 연마 상태는 양호한가? ",
                "(부속자재 - 절곡다이-v블럭) ☞ 마모상태 확인, 연마 상태는 양호한가? "
            ];
        } elseif ($item == 'bending01' && $term == '1개월') {
            $question = [
                "(프로그램) ☞ 데이터 저장/읽기 등 프로그램은 정상작동하는가? ",
                "(아답터) ☞ 아답터 조립상태는 양호한가? ",
                "(작업페달) ☞ 장비 하단의 작업 패달작동은 양호한가? ",
                "(부속자재 - 절곡펀치) ☞ 마모상태 확인, 연마 상태는 양호한가? ",
                "(부속자재 - 절곡다이-v블럭) ☞ 마모상태 확인, 연마 상태는 양호한가? "
            ];
        } elseif ($item == 'bending01' && $term == '2개월') {
            $question = [
                "(에어공급) ☞ 에어압력장치는 양호한가? ",
                "(조작램프) ☞ 조작램프는 정상작동하는가? ",
                "(프로그램) ☞ 자료 저장 읽기 등 프로그램의 작동은 양호한가? ",
                "(부속자재 - 절곡펀치) ☞ 마모상태 확인, 연마 상태는 양호한가? ",
                "(부속자재 - 절곡다이-v블럭) ☞ 마모상태 확인, 연마 상태는 양호한가? "
            ];
        } elseif ($item == 'bending01' && $term == '6개월') {
            $question = [
                "(절곡날밸런스) ☞ 절곡날의 좌우밸런스는 잘 나오는가? ",
                "(부속자재 - 절곡펀치) ☞ 마모상태 확인, 연마 상태는 양호한가? ",
                "(부속자재 - 절곡다이-v블럭) ☞ 마모상태 확인, 연마 상태는 양호한가? "
            ];
        } elseif ($item == 'shearing01' && $term == '주간') {
            $question = [
                "(절단날) ☞ 절단날 마모상태는 양호한가? ",
                "(청결) ☞ 장비주변의 청결상태는 양호한가? ",
                "(XY이동장치) ☞ 움직이는 부위의 구리스상태는 양호한가? ",
                "(조작판) ☞ 조작등은 정상작동하는가? "
            ];
        } elseif ($item == 'shearing01' && $term == '1개월') {
            $question = [
                "(수동프로그램) ☞ 위치조절 프로그램은 정상 작동하는가? ",
                "(작업페달) ☞ 장비 하단의 작업 패달작동은 양호한가? "
            ];
        } elseif ($item == 'shearing01' && $term == '2개월') {
            $question = [
                "(조작램프) ☞ 조작램프는 정상 작동하는가? ",
                "(백게이지) ☞ 백게이지 이동은 정상 작동하는가? "
            ];
        } elseif ($item == 'shearing01' && $term == '6개월') {
            $question = [
                "(절단밸런스) ☞ 절단날의 좌우밸런스는 잘 나오는가? "
            ];
        } elseif (in_array($item, ['welder01', 'welder02', 'welder03', 'welder04']) && $term == '주간') {
            $question = [
                "(전원) ☞ 전원은 정격전압에 연결되어 있는가? ",
                "(전선) ☞ 케이블(전선)의 피복의 벗겨진 부분은 없는가? ",
                "(전선) ☞ 케이블(전선)의 용접기와 접속부의 부착, 절연상태는 양호한가? ",
                "(청결) ☞ 작업장 부근에 기름, 도료, 헝겊 등의 타기 쉬운 물건을 두지 않았는가? ",
                "(청결) ☞ 통풍이나 환기는 충분히 이뤄지고 있는가? "
            ];
        } elseif (in_array($item, ['welder01', 'welder02', 'welder03', 'welder04']) && $term == '1개월') {
            $question = [
                "(조작판) ☞ 조작등(램프류)은 정상 작동하는가? ",
                "(조작스위치) ☞ 조작 스위치(버튼)류는 정상 작동하는가? "
            ];
        } elseif (in_array($item, ['welder01', 'welder02', 'welder03', 'welder04']) && $term == '2개월') {
            $question = [
                "(장비안전) ☞ 용접기 본체는 접치가 되어있는가? ",
                "(용품비치) ☞ 용접장소에 소화 준비물(소화기,물통 등) 비치되어 있는가? "
            ];
        } elseif (in_array($item, ['welder01', 'welder02', 'welder03', 'welder04']) && $term == '6개월') {
            $question = [
                "(성능) ☞ 용접기 성능(용접상태, 소음 등)은 이상이 없는가? ",
                "(관련부품훼손) ☞ 용접기 주요부품 및 부속품에 이상은 없는가? "
            ];
        } elseif (in_array($item, ['motor01', 'motor02']) && $term == '주간') {
            $question = [
                "(오일수준) ☞ 유압오일 레벨은 양호한가?",
                "(오일수준) ☞ 브레이크오일 레벨은 양호한가?",
                "(전기전장) ☞ 각종 경고장치는 작동은 양호한가?",
                "(전기전장) ☞ 배선 및 휴즈상태는 양호한가?",
                "(동작) ☞ 리프트 작동상태는 양호한가?",
                "(동작) ☞ 틸트 작동상태는 양호한가?",
                "(제어) ☞ 핸들 작동상태는 양호한가?",
                "(제동) ☞ 주차브레이크 작동상태는 양호한가?"
            ];
        } elseif (in_array($item, ['motor01', 'motor02']) && $term == '1개월') {
            $question = [
                "(구리스주입) ☞ 마스트 및 베어링 구리스 주입은 양호한가? ",
                "(구리스주입) ☞ 틸트핀 작동부 구리스 주입은 양호한가? ",
                "(구리스주입) ☞ 각종 조인트 구리스 주입은 양호한가? ",
                "(유압계통) ☞ 각종 실린더 누유는 없는가? ",
                "(유압계통) ☞ 각종 펌프 누유는 없는가? ",
                "(유압계통) ☞ 각종 파이프 및 호스 누유는 없는가? "
            ];
        } elseif (in_array($item, ['motor01', 'motor02']) && $term == '2개월') {
            $question = [
                "(타이어) ☞ 타이어 마모량 상태는 양호한가? ",
                "(타이어) ☞ 타이어 휠볼트 체결 상태는 양호한가? ",
                "(타이어) ☞ 타이어 외관 상태는 양호한가? "
            ];
        } elseif (in_array($item, ['motor01', 'motor02']) && $term == '6개월') {
            $question = [
                "(베터리) ☞ 증류수량은 적당한가? ",
                "(베터리) ☞ 베터리 접지에는 이상 없는가? "
            ];
        } elseif ($item == 'tapdrill01' && $term == '주간') {
            $question = [
                "(드릴날) ☞ 드릴날 마모상태는 양호한가? ",
                "(청결) ☞ 장비주변의 청결상태는 양호한가? ",
                "(XY이동장치) ☞ 움직이는 부위의 구리스상태는 양호한가? ",
                "(조작판) ☞ 조작등은 정상작동하는가? "
            ];
        } elseif ($item == 'tapdrill01' && $term == '1개월') {
            $question = [
                "(수동/자동레버) ☞ 레바 작동시 드릴회전은 정상 작동하는가? ",
                "(높이조절작업대) ☞ 높이 조절작업대는 작동은 양호한가? "
            ];
        } elseif ($item == 'tapdrill01' && $term == '2개월') {
            $question = [
                "(조작램프) ☞ 조작램프는 정상 작동하는가? ",
                "(진동/소음) ☞ 작동시 모터의 이상소음 및 진동은 정상인가? "
            ];
        } elseif ($item == 'tapdrill01' && $term == '6개월') {
            $question = [
                "(전선) ☞ 케이블(전선)의 피복의 벗겨진 부분은 없는가? ",
                "(모터) ☞ 회전모터의 회전량 및 출력은 정상인가? "
            ];
        } elseif (in_array($item, ['comp01', 'comp02']) && $term == '주간') {
            $question = [
                "(오일수준) ☞ 피스톤 유압오일 양호한가(폭발위험)?",
                "(수분) ☞ 탱크 하부 수분은 양호한가?",
                "(밸트장력) ☞ 느슨함이 없이 작동은 양호한가? "
            ];
        } elseif (in_array($item, ['comp01', 'comp02']) && $term == '1개월') {
            $question = [
                "(위험요소) ☞ 폭발이 가능한 물질이나 환경으로 안전한가?",
                "(정리정돈) ☞ 장비주변에 정리정돈은 양호한가? "
            ];
        } elseif (in_array($item, ['comp01', 'comp02']) && $term == '2개월') {
            $question = [
                "(위험요소) ☞ 폭발이 가능한 물질이나 환경으로 안전한가?",
                "(정리정돈) ☞ 장비주변에 정리정돈은 양호한가? "
            ];
        } elseif (in_array($item, ['comp01', 'comp02']) && $term == '6개월') {
            $question = [
                "(위험요소) ☞ 폭발이 가능한 물질이나 환경으로 안전한가?",
                "(정리정돈) ☞ 장비주변에 정리정돈은 양호한가? "
            ];
        }

        // 각 장비와 주기에 대한 문항 출력
        if (!empty($question)) {
            foreach ($question as $q) {
                echo "<tr>";
                echo "<td class='text-center'>{$itemstr} ({$term})</td>";
                echo "<td>{$q}</td>";
                echo "</tr>";
            }
        }
    }
}

echo '</tbody>';
echo '</table>';
echo '</div>';
?>

